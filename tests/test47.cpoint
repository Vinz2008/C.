import @std/print.cpoint
import @std/alloc.cpoint

extern gc_free(s : void ptr) void;

func main() int {
    var l = gc_malloc(10 * sizeof int)
    defer gc_free(l)
    l[0] = 2
    printi(l[0])
    if argc == 2 {
        var l_if = gc_malloc(2 * sizeof int)
        defer gc_free(l_if)
        printstr("test")
    }
    var l2 = alloc::manual_alloc(12* sizeof int)
    defer alloc::manual_dealloc(l2)
    l2[0] = 3
    printi(l2[0])
    0
}